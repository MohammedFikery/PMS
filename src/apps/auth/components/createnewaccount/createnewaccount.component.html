<div class="container-fluid main-bg">
    <img src="./assets/images/logo.svg" alt="">
    <div class="form-bg">
        <div>
            <h3>welcome to PMS</h3>
            <h2>Create New Account</h2>
        </div>
        <form [formGroup]="registerForm" (ngSubmit)="Register(registerForm)">
            <div class="form-Group">
                <div class="d-zone">
                    <ngx-dropzone (change)="onSelect($event)" [multiple]="false" accept="image/*">
                        <ngx-dropzone-label>Drop your image here !</ngx-dropzone-label>
                        <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files"
                            [file]="f" [removable]="true" (removed)="onRemove(f)">
                        </ngx-dropzone-image-preview>
                    </ngx-dropzone>
                </div>
                <div class="form-grid">
                    <div>
                        <mat-form-field class="example-full-width">
                            <mat-label>User Name</mat-label>
                            <input type="text" matInput placeholder="Enter your name" formControlName="userName">
                        </mat-form-field>
                        <div>
                            <p *ngIf="registerForm.get('userName')?.errors?.['required'] && registerForm.get('userName')?.touched"
                                class="alert alert-danger p-2 rounded-3">
                                userName is required
                            </p>
                            <p *ngIf="registerForm.get('userName')?.errors?.['maxlength'] && registerForm.get('userName')?.touched"
                                class="alert alert-danger p-2 rounded-3">
                                maxlength is 8 char
                            </p>
                        </div>
                    </div>

                    <div>
                        <mat-form-field class="example-full-width">
                            <mat-label>E-mail</mat-label>
                            <input type="email" matInput placeholder="Enter your E-mail" formControlName="email">
                        </mat-form-field>
                        <div>
                            <p *ngIf="(registerForm.get('email')?.errors?.['required'] || registerForm.get('email')?.errors?.['email']) && registerForm.get('email')?.touched"
                                class="alert alert-danger p-2 rounded-3">
                                E-mail is required or incorrect
                            </p>
                        </div>
                    </div>

                    <div>
                        <mat-form-field class="example-full-width">
                            <mat-label>Country</mat-label>
                            <input type="text" matInput placeholder="Enter your country" formControlName="country">
                        </mat-form-field>
                        <div>
                            <p *ngIf="registerForm.get('country')?.errors?.['required'] && registerForm.get('country')?.touched"
                                class="alert alert-danger p-2 rounded-3">
                                country is required
                            </p>
                        </div>
                    </div>

                    <div>
                        <mat-form-field class="example-full-width">
                            <mat-label>phoneNumber</mat-label>
                            <input type="tel" matInput placeholder="Enter your phoneNumber"
                                formControlName="phoneNumber">
                        </mat-form-field>
                        <div>
                            <p *ngIf="registerForm.get('phoneNumber')?.errors?.['required'] && registerForm.get('phoneNumber')?.touched"
                                class="alert alert-danger p-2 rounded-3">
                                Phone is required or incorrect
                            </p>
                        </div>
                    </div>

                    <div>
                        <mat-form-field class="example-full-width">
                            <mat-label>Enter your password</mat-label>
                            <input matInput [type]="hide ? 'password' : 'text'" formControlName="password">
                            <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'"
                                [attr.aria-pressed]="hide">
                                <mat-icon>{{ hide ? 'visibility_off' : 'visibility' }}</mat-icon>
                            </button>
                        </mat-form-field>
                        <div>
                            <p *ngIf="registerForm.get('password')?.errors?.['required'] && registerForm.get('password')?.touched"
                                class="alert alert-danger p-2 rounded-3">
                                Password is required
                            </p>
                            <p *ngIf="registerForm.get('password')?.errors?.['minlength'] && registerForm.get('password')?.touched"
                                class="alert alert-danger p-2 rounded-3">
                                Password must be at least 3 characters
                            </p>
                            <p *ngIf="registerForm.get('password')?.errors?.['maxlength'] && registerForm.get('password')?.touched"
                                class="alert alert-danger p-2 rounded-3">
                                Password must be no more than 20 characters
                            </p>
                        </div>
                    </div>

                    <div>
                        <mat-form-field class="example-full-width">
                            <mat-label>Confirm Password</mat-label>
                            <input matInput [type]="hide2 ? 'password' : 'text'" formControlName="confirmPassword">
                            <button mat-icon-button matSuffix (click)="hide2 = !hide2"
                                [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide2">
                                <mat-icon>{{ hide2 ? 'visibility_off' : 'visibility' }}</mat-icon>
                            </button>
                        </mat-form-field>
                        <div>
                            <p *ngIf="registerForm.getError('misMatch') && registerForm.get('confirmPassword')?.touched"
                                class="alert alert-danger p-2 rounded-3">
                                confirmPassword confirmation is incorrect
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="links">
                <a class="text-decoration-none text-dark" routerLink="/auth/verfiyaccount">verify account?</a>
                <a routerLink="/auth/login" class="Forgot">Login Now?</a>
            </div>
            <button class="btn-yellow btn" type="submit">Register</button>
        </form>
    </div>
</div>